const axios = require('axios');

async function consulta(dados, base, type) {
try {
if(type == 'placa') {
tar = await axios.get(`https://mdzapis.com/api/placanew?placa=${dados}&apikey=sonygozadinhas`);
return { resultado: `‚Ä¢ *PLACA:* ${tar.data.resultado.placa}\n  ‚Ä¢ *CHASSI:* ${tar.data.resultado.chassi}\n  ‚Ä¢ *N√öM. MOTOR:* ${tar.data.resultado.numMotor}\n  ‚Ä¢ *RENAVAM:* ${tar.data.resultado.renavam}\n\n  ‚Ä¢ *SITUA√á√ÉO:* ${tar.data.resultado.situacao}\n\n  ‚Ä¢ *RESTRI√á√ïES:*  \n  - ${tar.data.resultado.restricoes[0]}  \n  - ${tar.data.resultado.restricoes[1]}  \n  - ${tar.data.resultado.restricoes[2]}  \n  - ${tar.data.resultado.restricoes[3]}\n\n  ‚Ä¢ *MARCA/MODELO:* ${tar.data.resultado.marcaModelo}\n  ‚Ä¢ *COR:* ${tar.data.resultado.cor}\n  ‚Ä¢ *COMBUST√çVEL:* ${tar.data.resultado.combustivel}\n\n  ‚Ä¢ *ESP√âCIE DO VE√çCULO:* ${tar.data.resultado.esp√©cieVeiculo}\n  ‚Ä¢ *IMPORTADORA:* ${tar.data.resultado.identImportadora}\n  ‚Ä¢ *REGISTRO:* ${tar.data.resultado.registro}\n  ‚Ä¢ *UNIDADE LOCAL SRF:* ${tar.data.resultado.unidadeLocalSRF}\n\n  ‚Ä¢ *MULTAS:*  \n  - *Coment√°rio:* ${tar.data.resultado.multas.comentario}  \n  - *Status:* ${tar.data.resultado.multas.status}  \n  - *Valor:* ${tar.data.resultado.multas.valor}\n\n  ‚Ä¢ *FATURADO:*  \n  - *Status:* ${tar.data.resultado.faturado.faturado}  \n  - *Pessoa:* ${tar.data.resultado.faturado.pessoa}\n\nüë§ *PROPRIET√ÅRIO:*  \n  - *Nome:* ${tar.data.resultado.proprietario.nome}  \n  - *CPF:* ${tar.data.resultado.proprietario.cpf}\n\nüìç *ENDERE√áO:*  \n  - *Logradouro:* ${tar.data.resultado.enderecos.logradouro}  \n  - *N√∫mero:* ${tar.data.resultado.enderecos.numero}  \n  - *Bairro:* ${tar.data.resultado.enderecos.bairro}  \n  - *CEP:* ${tar.data.resultado.enderecos.cep}  \n  - *Munic√≠pio:* ${tar.data.resultado.enderecos.municipio}  \n  - *UF:* ${tar.data.resultado.enderecos.uf}\n\nüìú *DADOS COMPLETOS:*  \n  - *CNS:* ${tar.data.resultado.dados_completos.resultadocns}  \n  - *Nome:* ${tar.data.resultado.dados_completos.resultadonome}  \n  - *Nome Social:* ${tar.data.resultado.dados_completos.resultadonome_social}  \n  - *Nome da M√£e:* ${tar.data.resultado.dados_completos.resultadonome_mae}  \n  - *Nome do Pai:* ${tar.data.resultado.dados_completos.resultadonome_pai}  \n  - *Sexo:* ${tar.data.resultado.dados_completos.resultadosexo}  \n  - *Ra√ßa:* ${tar.data.resultado.dados_completos.resultadoraca}  \n  - *Nascimento:* ${tar.data.resultado.dados_completos.resultadodata_nascimento.data} (${tar.data.resultado.dados_completos.resultadodata_nascimento.idade})  \n  - *Nacionalidade:* ${tar.data.resultado.dados_completos.resultadonacionalidade}  \n  - *Munic√≠pio de Nascimento:* ${tar.data.resultado.dados_completos.resultadomunicipio_nascimento}\n\nüè† *ENDERE√áO COMPLETO:*  \n  - *Tipo Logradouro:* ${endComp.tipo_logradouro}  \n  - *Logradouro:* ${endComp.logradouro}  \n  - *Complemento:* ${endComp.complemento}  \n  - *N√∫mero:* ${endComp.numero}  \n  - *Bairro:* ${endComp.bairro}  \n  - *CEP:* ${endComp.cep}  \n  - *Munic√≠pio de Resid√™ncia:* ${endComp.municipio_residencia}  \n  - *Pa√≠s:* ${endComp.pais_residencia}\n\nüìÑ *DOCUMENTOS:*  \n  - *CPF:* ${tar.data.resultado.dados_completos.documentos.cpf}  \n  - *Identidade:* ${tar.data.resultado.dados_completos.documentos.identidade.numero}  \n  - *√ìrg√£o Emissor:* ${tar.data.resultado.dados_completos.documentos.identidade.orgao_emissor}  \n  - *Estado Emissor:* ${tar.data.resultado.dados_completos.documentos.identidade.estado_emissor}  \n  - *Data de Emiss√£o:* ${tar.data.resultado.dados_completos.documentos.identidade.data_emissao}`};
} else {
tar = await axios.get(`https://scraper.mdzapis.com/consultar/mdz?type=${type}&data=${dados}&base=${base}&apikey=sonygozadinhas`);
return tar.data;
};
} catch(e) {
console.error(e);
console.log('tentando api 2');
if(type == 'cpf' && base == 'CREDILINK') {
tar = await axios.get(``);
}}};

module.exports = consulta;